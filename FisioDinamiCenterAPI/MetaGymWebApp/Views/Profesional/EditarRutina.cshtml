@model RutinaRegistroDTO

<div class="container text-light">
    <h2>Editar Rutina</h2>
    <form asp-action="EditarRutina" method="post">
        <input type="hidden" name="Id" value="@Model.Id" />

        <div class="mb-3">
            <label>Nombre de la rutina</label>
            <input type="text" name="NombreRutina" class="form-control" value="@Model.NombreRutina" required />
        </div>
        <div class="mb-3">
            <label>Tipo de rutina</label>
            <input type="text" name="Tipo" class="form-control" value="@Model.Tipo" required />
        </div>

        <h3>Mis Ejercicios</h3>
        <div class="d-flex flex-wrap gap-2">
            @foreach (var ej in Model.MisEjerciciosDisponibles)
            {
                <div class="card p-2 bg-secondary text-center" data-id="@ej.Id" data-nombre="@ej.Nombre">
                    <strong>@ej.Nombre</strong><br />
                    <button type="button" class="btn btn-sm btn-primary mt-1" onclick="agregar('ejercicio', @ej.Id, '@ej.Nombre', this)">Agregar</button>
                </div>
            }
        </div>

        <h3>Ejercicios del Sistema</h3>
        <div class="d-flex flex-wrap gap-2">
            @foreach (var ej in Model.EjerciciosDisponiblesSistema)
            {
                <div class="card p-2 bg-secondary text-center" data-id="@ej.Id" data-nombre="@ej.Nombre">
                    <strong>@ej.Nombre</strong><br />
                    <button type="button" class="btn btn-sm btn-primary mt-1" onclick="agregar('ejercicio', @ej.Id, '@ej.Nombre', this)">Agregar</button>
                </div>
            }
        </div>

        <h3>Ejercicios Seleccionados</h3>
        <ul id="lista-ejercicios" class="list-group mb-3">
            @foreach (var ej in Model.EjerciciosSeleccionados)
            {
                <li class="list-group-item bg-dark text-light d-flex justify-content-between align-items-center" data-id="@ej.Id">
                    @ej.Nombre
                    <button type="button" class="btn btn-sm btn-danger" onclick="quitar('ejercicio', @ej.Id, this)">X</button>
                    <input type="hidden" name="IdsEjerciciosSeleccionados" value="@ej.Id" />
                </li>
            }
        </ul>

        <h3>Clientes Disponibles</h3>
        <table class="table table-dark">
            @foreach (var cli in Model.ClientesDisponibles)
            {
                <tr data-id="@cli.Id" data-nombre="@cli.NombreCompleto">
                    <td>@cli.NombreCompleto</td>
                    <td><button type="button" class="btn btn-primary" onclick="agregar('cliente', @cli.Id, '@cli.NombreCompleto', this)">Agregar</button></td>
                </tr>
            }
        </table>

        <h3>Clientes Seleccionados</h3>
        <ul id="lista-clientes" class="list-group mb-3">
            @foreach (var cli in Model.ClientesSeleccionados)
            {
                <li class="list-group-item bg-dark text-light d-flex justify-content-between align-items-center" data-id="@cli.Id">
                    @cli.NombreCompleto
                    <button type="button" class="btn btn-sm btn-danger" onclick="quitar('cliente', @cli.Id, this)">X</button>
                    <input type="hidden" name="IdsClientesAsignados" value="@cli.Id" />
                </li>
            }
        </ul>

        <button type="submit" class="btn btn-success">Guardar cambios</button>
    </form>
</div>

@section Scripts {
    <script src="~/js/profesional/editarRutina.js"></script>
}
