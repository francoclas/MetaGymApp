@using LogicaApp.DTOS
@model CitaDTO

<div class="container mt-4 bg-dark border rounded py-4 text-white">
    <h2 class="mb-4">📋 Revisión de Cita</h2>

    <h5 class="mb-1">Solicitante:</h5>
    <p class="mb-3"><strong>@Model.Cliente.NombreCompleto</strong> (ID Cita: @Model.CitaId)</p>

    <h5>Establecimiento:</h5>
    <div class="row align-items-center mb-3">
        <div class="col-md-4">
            <img src="@Model.Establecimiento.Media.FirstOrDefault()?.Url" class="img-fluid rounded" alt="Imagen del establecimiento" />
        </div>
        <div class="col-md-8">
            <p><strong>Nombre:</strong> @Model.Establecimiento.Nombre</p>
            <p><strong>Dirección:</strong> @Model.Establecimiento.Direccion</p>
        </div>
    </div>

    <h5>Detalles de la solicitud:</h5>
    <p><strong>Especialidad:</strong> @Model.Especialidad.NombreEspecialidad</p>
    <p><strong>Fecha solicitada:</strong> @Model.FechaAsistencia.ToString("dd/MM/yyyy HH:mm")</p>
    <p><strong>Descripción original:</strong><br />@Model.Descripcion</p>

    <hr />

    <form asp-action="RevisarCita" method="post">
        <input type="hidden" asp-for="CitaId" />

        <div class="form-group mb-3">
            <label for="FechaAsistencia">📅 Nueva fecha y hora:</label>
            <input asp-for="FechaAsistencia" type="datetime-local" class="form-control" />
            <span asp-validation-for="FechaAsistencia" class="text-danger"></span>
        </div>

        <div class="form-group mb-3">
            <label for="Descripcion">📝 Comentarios adicionales:</label>
            <textarea asp-for="Descripcion" class="form-control" rows="3"></textarea>
            <span asp-validation-for="Descripcion" class="text-danger"></span>
        </div>

        <div class="d-flex justify-content-between">
            <button type="submit" class="btn btn-success">✅ Aceptar cita</button>
            <a href="@Url.Action("GestionCitas", "Profesional")" class="btn btn-outline-light">Cancelar</a>
        </div>
    </form>
</div>
